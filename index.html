<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Recipe Maker</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="app-header">
      <button
        class="sidebar-toggle"
        id="sidebar-toggle"
        aria-controls="sidebar"
        aria-expanded="false"
        type="button"
      >
        <span class="hamburger" aria-hidden="true">
          <span></span>
          <span></span>
          <span></span>
        </span>
        <span class="toggle-text">Menu</span>
      </button>
    </header>

    <aside class="sidebar" id="sidebar" aria-hidden="true">
      <div class="sidebar-header">
        <div>
          <p class="eyebrow">Espresso Toolkit</p>
          <h2>Dial-In & Recipes</h2>
        </div>
        <button class="sidebar-close" id="sidebar-close" type="button" aria-label="Close menu">
          x
        </button>
      </div>

      <nav class="sidebar-nav" aria-label="Primary">
        <button class="sidebar-link is-active" type="button" data-view-target="recipes">
          AI Recipe Maker
        </button>
        <button class="sidebar-link" type="button" data-view-target="dialin">
          Dial-In Helper
        </button>
      </nav>
    </aside>

    <div class="sidebar-overlay" id="sidebar-overlay" aria-hidden="true"></div>

    <main class="container">
      <section class="app-view is-active" id="view-recipes" data-view="recipes">
        <section class="setup-card" aria-labelledby="setup-title">
          <header class="setup-hero">
            <div class="setup-hero-text">
              <h1 id="setup-title">What's your setup?</h1>
              <p class="setup-subhead">
                Tell us about your espresso gear and we'll unlock drinks you can actually make.
              </p>
            </div>
            <div class="setup-hero-art" aria-hidden="true">
              <div class="espresso-hero-media">
                <svg class="espresso-machine-svg" viewBox="0 0 160 180" aria-hidden="true">
                  <defs>
                    <linearGradient id="machineBody" x1="0" y1="0" x2="0" y2="1">
                      <stop offset="0%" stop-color="#e8ddd4"/>
                      <stop offset="50%" stop-color="#d4c4b5"/>
                      <stop offset="100%" stop-color="#c9b8a8"/>
                    </linearGradient>
                    <linearGradient id="machineChrome" x1="0" y1="0" x2="1" y2="1">
                      <stop offset="0%" stop-color="#f5f0eb"/>
                      <stop offset="40%" stop-color="#c9bfb4"/>
                      <stop offset="100%" stop-color="#a89888"/>
                    </linearGradient>
                    <linearGradient id="portafilterMetal" x1="0" y1="0" x2="0" y2="1">
                      <stop offset="0%" stop-color="#d4ccc4"/>
                      <stop offset="50%" stop-color="#a89080"/>
                      <stop offset="100%" stop-color="#8b7968"/>
                    </linearGradient>
                    <linearGradient id="woodHandle" x1="0" y1="0" x2="0" y2="1">
                      <stop offset="0%" stop-color="#a67c52"/>
                      <stop offset="50%" stop-color="#8b5a2b"/>
                      <stop offset="100%" stop-color="#6d4320"/>
                    </linearGradient>
                    <linearGradient id="cupGradient" x1="0" y1="0" x2="0" y2="1">
                      <stop offset="0%" stop-color="#fff8f0"/>
                      <stop offset="100%" stop-color="#f5ebe0"/>
                    </linearGradient>
                    <linearGradient id="espressoLiquid" x1="0" y1="0" x2="0" y2="1">
                      <stop offset="0%" stop-color="#8b5a2b"/>
                      <stop offset="100%" stop-color="#3d2314"/>
                    </linearGradient>
                    <filter id="softShadow" x="-20%" y="-20%" width="140%" height="140%">
                      <feDropShadow dx="0" dy="4" stdDeviation="6" flood-color="#5d4037" flood-opacity="0.15"/>
                    </filter>
                  </defs>

                  <!-- Machine body -->
                  <rect x="20" y="20" width="120" height="100" rx="12" fill="url(#machineBody)" filter="url(#softShadow)"/>

                  <!-- Top chrome trim -->
                  <rect x="20" y="20" width="120" height="16" rx="8" fill="url(#machineChrome)"/>
                  <rect x="28" y="24" width="40" height="8" rx="4" fill="#f8f4f0" opacity="0.6"/>

                  <!-- Gauge/dial -->
                  <circle cx="120" cy="50" r="14" fill="#f5f0eb" stroke="#c9b8a8" stroke-width="2"/>
                  <circle cx="120" cy="50" r="10" fill="#fffaf5"/>
                  <path d="M120 44 L120 50 L125 48" stroke="#b06b3f" stroke-width="1.5" stroke-linecap="round" fill="none"/>
                  <circle cx="120" cy="50" r="2" fill="#b06b3f"/>

                  <!-- Group head -->
                  <rect x="55" y="75" width="50" height="18" rx="4" fill="url(#machineChrome)"/>
                  <rect x="60" y="79" width="40" height="10" rx="3" fill="#a89888"/>
                  <rect x="65" y="82" width="30" height="4" rx="2" fill="#8b7968"/>

                  <!-- Portafilter -->
                  <ellipse cx="80" cy="105" rx="28" ry="8" fill="url(#portafilterMetal)"/>
                  <rect x="52" y="98" width="56" height="14" rx="4" fill="url(#portafilterMetal)"/>
                  <ellipse cx="80" cy="112" rx="24" ry="6" fill="#7a6858"/>

                  <!-- Portafilter handle -->
                  <rect x="108" y="100" width="32" height="10" rx="5" fill="url(#woodHandle)"/>
                  <rect x="110" y="102" width="8" height="6" rx="3" fill="#c9956c" opacity="0.4"/>

                  <!-- Steam wand -->
                  <rect x="28" y="70" width="6" height="35" rx="3" fill="url(#machineChrome)"/>
                  <circle cx="31" cy="105" r="4" fill="#d4ccc4"/>
                  <rect x="29" y="105" width="4" height="20" rx="2" fill="#c9bfb4"/>

                  <!-- Drip tray -->
                  <rect x="30" y="130" width="100" height="12" rx="4" fill="#d4c4b5"/>
                  <rect x="35" y="133" width="90" height="6" rx="2" fill="#c9b8a8"/>

                  <!-- Cup -->
                  <ellipse cx="80" cy="148" rx="18" ry="4" fill="#e0d5ca"/>
                  <path d="M62 148 L66 170 Q80 174 94 170 L98 148" fill="url(#cupGradient)" stroke="#d4c4b5" stroke-width="1"/>
                  <ellipse cx="80" cy="148" rx="16" ry="3" fill="#fffaf5"/>

                  <!-- Espresso in cup -->
                  <ellipse cx="80" cy="154" rx="12" ry="2.5" fill="url(#espressoLiquid)"/>
                  <ellipse cx="80" cy="153" rx="10" ry="2" fill="#a67c52" opacity="0.6"/>

                  <!-- Cup handle -->
                  <path d="M98 152 Q108 152 108 160 Q108 168 98 168" fill="none" stroke="#e0d5ca" stroke-width="4" stroke-linecap="round"/>

                  <!-- Steam wisps -->
                  <g class="machine-steam">
                    <path class="steam-wisp steam-1" d="M75 140 Q72 132 76 124" fill="none" stroke="#c9b8a8" stroke-width="2" stroke-linecap="round" opacity="0.5"/>
                    <path class="steam-wisp steam-2" d="M80 138 Q78 128 82 120" fill="none" stroke="#c9b8a8" stroke-width="2" stroke-linecap="round" opacity="0.4"/>
                    <path class="steam-wisp steam-3" d="M85 140 Q88 130 84 122" fill="none" stroke="#c9b8a8" stroke-width="2" stroke-linecap="round" opacity="0.5"/>
                  </g>

                  <!-- Highlight accents -->
                  <rect x="24" y="24" width="60" height="2" rx="1" fill="#fff" opacity="0.3"/>
                  <circle cx="120" cy="46" r="3" fill="#fff" opacity="0.4"/>
                </svg>
              </div>
            </div>
          </header>

          <form id="recipes-form" autocomplete="off">
  <div class="setup-progress" aria-hidden="true">
    <span class="progress-dot is-active"></span>
    <span class="progress-dot"></span>
    <span class="progress-dot"></span>
  </div>

  <section class="setup-section" data-section="equipment">
    <button type="button" class="section-header" aria-expanded="false">
      <span>Your Equipment</span>
      <span class="chevron">⌄</span>
    </button>
    <div class="section-content">
      <div class="form-block">
        <div class="form-label">Machine Type</div>
        <div class="pill-group segmented-control segmented-control--triple" role="radiogroup" aria-label="Machine Type">
          <input class="pill-input" type="radio" name="machine-type" id="machine-type-semi" value="semi-auto" checked />
          <label class="pill-option" for="machine-type-semi"><span>Semi-Auto</span></label>
          <input class="pill-input" type="radio" name="machine-type" id="machine-type-automatic" value="automatic" />
          <label class="pill-option" for="machine-type-automatic"><span>Automatic</span></label>
          <input class="pill-input" type="radio" name="machine-type" id="machine-type-super" value="super-auto" />
          <label class="pill-option" for="machine-type-super"><span>Super-Automatic</span></label>
        </div>
        <div class="helper-text">Optional: pick your exact machine model below.</div>
        <label class="select-inline">
          <span class="field-label">Machine Model</span>
          <select id="recipe-machine">
            <option value="Semi-Auto (Generic)" selected>Semi-Auto (Generic)</option>
            <option value="Automatic (Generic)">Automatic (Generic)</option>
            <option value="Super-Auto (Generic)">Super-Auto (Generic)</option>
            <option value="DeLonghi Magnifica Evo (non-LatteCrema version)">DeLonghi Magnifica Evo (non-LatteCrema version)</option>
            <option value="Breville Bambino">Breville Bambino</option>
            <option value="Gaggia Classic Pro">Gaggia Classic Pro</option>
            <option value="Lelit Anna">Lelit Anna</option>
            <option value="Rancilio Silvia">Rancilio Silvia</option>
            <option value="Smeg Semi-Pro">Smeg Semi-Pro</option>
            <option value="Lelit MaraX">Lelit MaraX</option>
            <option value="Rocket Appartamento">Rocket Appartamento</option>
            <option value="Miele CM6360">Miele CM6360</option>
            <option value="La Marzocco Linea Mini">La Marzocco Linea Mini</option>
          </select>
        </label>
      </div>

      <div class="form-block">
        <div class="form-label">Grinder Type</div>
        <div class="pill-group segmented-control segmented-control--triple" role="radiogroup" aria-label="Grinder Type">
          <input class="pill-input" type="radio" name="grinder-type" id="grinder-type-burr" value="burr" checked />
          <label class="pill-option" for="grinder-type-burr"><span>Burr Grinder</span></label>
          <input class="pill-input" type="radio" name="grinder-type" id="grinder-type-built-in" value="built-in" />
          <label class="pill-option" for="grinder-type-built-in"><span>Built-In</span></label>
          <input class="pill-input" type="radio" name="grinder-type" id="grinder-type-preground" value="preground" />
          <label class="pill-option" for="grinder-type-preground"><span>Pre-Ground</span></label>
        </div>
      </div>
    </div>
  </section>

  <section class="setup-section" data-section="beans">
    <button type="button" class="section-header" aria-expanded="false">
      <span>Your Beans</span>
      <span class="chevron">⌄</span>
    </button>
    <div class="section-content">
      <div class="form-block">
        <div class="form-label">Roast Level</div>
        <div class="pill-group segmented-control segmented-control--triple" role="radiogroup" aria-label="Roast Level">
          <input class="pill-input" type="radio" name="roast-level" id="roast-light" value="light" />
          <label class="pill-option" for="roast-light"><span>Light</span></label>
          <input class="pill-input" type="radio" name="roast-level" id="roast-medium" value="medium" checked />
          <label class="pill-option" for="roast-medium"><span>Medium</span></label>
          <input class="pill-input" type="radio" name="roast-level" id="roast-dark" value="dark" />
          <label class="pill-option" for="roast-dark"><span>Dark</span></label>
        </div>
      </div>

      <div class="form-block">
        <div class="form-label">Grind Range</div>
        <div class="pill-group segmented-control segmented-control--triple" role="radiogroup" aria-label="Grind Range">
          <input class="pill-input" type="radio" name="grind-range" id="grind-fine" value="fine" checked />
          <label class="pill-option" for="grind-fine"><span>Fine</span></label>
          <input class="pill-input" type="radio" name="grind-range" id="grind-medium" value="medium" />
          <label class="pill-option" for="grind-medium"><span>Medium</span></label>
          <input class="pill-input" type="radio" name="grind-range" id="grind-coarse" value="coarse" />
          <label class="pill-option" for="grind-coarse"><span>Coarse</span></label>
        </div>
      </div>

      <div class="form-block">
        <div class="form-label">Bean Freshness</div>
        <div class="pill-group segmented-control segmented-control--triple" role="radiogroup" aria-label="Bean Freshness">
          <input class="pill-input" type="radio" name="bean-freshness" id="freshness-fresh" value="0-7" checked />
          <label class="pill-option" for="freshness-fresh"><span>0–7 days</span></label>
          <input class="pill-input" type="radio" name="bean-freshness" id="freshness-rested" value="7-21" />
          <label class="pill-option" for="freshness-rested"><span>1–3 weeks</span></label>
          <input class="pill-input" type="radio" name="bean-freshness" id="freshness-old" value="21+" />
          <label class="pill-option" for="freshness-old"><span>1+ month</span></label>
        </div>
      </div>
    </div>
  </section>

  <section class="setup-section" data-section="water-milk">
    <button type="button" class="section-header" aria-expanded="false">
      <span>Your Water & Milk</span>
      <span class="chevron">⌄</span>
    </button>
    <div class="section-content">
      <div class="form-block">
        <div class="form-label">Water Type</div>
        <div class="pill-group segmented-control segmented-control--triple" role="radiogroup" aria-label="Water Type">
          <input class="pill-input" type="radio" name="water-type" id="water-filtered" value="filtered" checked />
          <label class="pill-option" for="water-filtered"><span>Filtered</span></label>
          <input class="pill-input" type="radio" name="water-type" id="water-tap" value="tap" />
          <label class="pill-option" for="water-tap"><span>Tap</span></label>
          <input class="pill-input" type="radio" name="water-type" id="water-bottled" value="bottled" />
          <label class="pill-option" for="water-bottled"><span>Bottled</span></label>
        </div>
      </div>

      <div class="form-block">
        <div class="form-label">Milk Frothing</div>
        <div class="milk-frothing-grid" role="radiogroup" aria-label="Milk Frothing">
          <input class="pill-input" type="radio" name="milk-frothing" id="milk-frothing-steam" value="steam" checked />
          <label class="milk-option" for="milk-frothing-steam">
            <svg class="milk-icon" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M8 20h8M12 16v4M7 8c-1 2 0 4 1 6h8c1-2 2-4 1-6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              <path d="M9 4c0 2 1 3 1 4M12 3c0 2 1 3 1 4M15 4c0 2 1 3 1 4" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" opacity="0.6"/>
            </svg>
            <span>Steam Wand</span>
          </label>
          <input class="pill-input" type="radio" name="milk-frothing" id="milk-frothing-panarello" value="panarello" />
          <label class="milk-option" for="milk-frothing-panarello">
            <svg class="milk-icon" viewBox="0 0 24 24" aria-hidden="true">
              <rect x="10" y="4" width="4" height="12" rx="2" fill="none" stroke="currentColor" stroke-width="1.5"/>
              <circle cx="12" cy="19" r="2" fill="none" stroke="currentColor" stroke-width="1.5"/>
              <path d="M9 8h6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
            <span>Panarello</span>
          </label>
          <input class="pill-input" type="radio" name="milk-frothing" id="milk-frothing-carafe" value="carafe" />
          <label class="milk-option" for="milk-frothing-carafe">
            <svg class="milk-icon" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M7 6h10l-1 14H8L7 6z" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              <path d="M7 6c0-2 2-3 5-3s5 1 5 3" fill="none" stroke="currentColor" stroke-width="1.5"/>
              <path d="M17 10h2a2 2 0 010 4h-2" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
            <span>Auto Carafe</span>
          </label>
          <input class="pill-input" type="radio" name="milk-frothing" id="milk-frothing-cappuccinatore" value="cappuccinatore" />
          <label class="milk-option" for="milk-frothing-cappuccinatore">
            <svg class="milk-icon" viewBox="0 0 24 24" aria-hidden="true">
              <rect x="8" y="10" width="8" height="10" rx="2" fill="none" stroke="currentColor" stroke-width="1.5"/>
              <path d="M12 10V4M10 4h4" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              <path d="M10 14h4M10 17h4" fill="none" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" opacity="0.5"/>
            </svg>
            <span>Cappuccinatore</span>
          </label>
          <input class="pill-input" type="radio" name="milk-frothing" id="milk-frothing-manual" value="manual" />
          <label class="milk-option" for="milk-frothing-manual">
            <svg class="milk-icon" viewBox="0 0 24 24" aria-hidden="true">
              <rect x="7" y="8" width="10" height="12" rx="3" fill="none" stroke="currentColor" stroke-width="1.5"/>
              <path d="M12 4v4M10 6h4" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              <circle cx="12" cy="14" r="2" fill="none" stroke="currentColor" stroke-width="1.2"/>
            </svg>
            <span>Manual Frother</span>
          </label>
          <input class="pill-input" type="radio" name="milk-frothing" id="milk-frothing-none" value="none" />
          <label class="milk-option" for="milk-frothing-none">
            <svg class="milk-icon" viewBox="0 0 24 24" aria-hidden="true">
              <circle cx="12" cy="12" r="8" fill="none" stroke="currentColor" stroke-width="1.5"/>
              <path d="M7 17L17 7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
            <span>None</span>
          </label>
        </div>
        <div class="helper-text">Select how your machine froths milk.</div>
      </div>

      <div class="form-block">
        <div class="latte-art-row">
          <span class="latte-art-label">Include latte art steps</span>
          <label class="toggle toggle--compact" for="latte-art">
            <input id="latte-art" type="checkbox" />
            <span class="toggle-slider" aria-hidden="true"></span>
          </label>
        </div>
      </div>
    </div>
  </section>

  <div class="actions">
    <button type="button" id="generate-drinks" class="cta-button">
      Show Me What I Can Make
    </button>
  </div>
</form>
        </section>

        <section class="card" aria-labelledby="drinks-title">
          <div class="section-title">
            <div>
              <h2 id="drinks-title">Drink Lineup</h2>
              <p class="helper-text">Each drink shows its espresso-to-milk balance and texture goals.</p>
            </div>
          </div>
          <div class="recipe-status is-hidden" id="drinks-status" aria-live="polite"></div>
          <div class="drink-grid" id="drinks-grid" aria-live="polite"></div>
        </section>

        <section
          class="card is-hidden"
          id="recipe-detail"
          aria-labelledby="recipe-detail-title"
          aria-hidden="true"
        >
          <div class="section-title">
            <div>
              <h2 id="recipe-detail-title">Recipe Output</h2>
              <p class="helper-text">Brew-ready guidance built for your setup.</p>
            </div>
          </div>
          <div class="recipe-output">
            <div class="recipe-hero">
              <div class="recipe-hero-illustration" id="recipe-hero-illustration" aria-hidden="true"></div>
              <div class="recipe-hero-content">
                <p class="eyebrow">Ready to Brew</p>
                <h3 id="recipe-title"></h3>
                <p class="helper-text" id="recipe-summary"></p>
                <div class="recipe-hero-actions">
                  <button type="button" class="cta-button" id="start-brewing" disabled>
                    Start Brewing
                  </button>
                </div>
              </div>
            </div>

            <ol class="recipe-steps recipe-steps--cards" id="recipe-steps"></ol>
          </div>
        </section>
      </section>

      <section class="app-view" id="view-dialin" data-view="dialin">
        <header class="header">
          <div class="header-main">
            <p class="eyebrow">Dial-In Helper</p>
            <h1>Dial in your espresso in minutes.</h1>
            <p>
              Share your shot details and get a focused adjustment recommendation for the next pull.
            </p>
          </div>
          <div class="header-meta">
            <span class="tag">Target 1:2 in 25-30s</span>
            <span class="header-note">Taste-first adjustments, one change at a time.</span>
          </div>
        </header>

        <section class="card" aria-labelledby="inputs-title">
          <h2 id="inputs-title">Dial-in details</h2>
          <form id="dialin-form" autocomplete="off">
            <div class="grid">
              <label>
                Machine
                <select id="machine">
                  <option value="Breville Bambino" selected>Breville Bambino</option>
                  <option value="Breville Barista Express">Breville Barista Express</option>
                  <option value="Gaggia Classic">Gaggia Classic</option>
                  <option value="Rancilio Silvia">Rancilio Silvia</option>
                </select>
              </label>

              <label>
                Basket size (g)
                <input id="basket" type="number" min="10" max="24" step="0.1" value="18" />
              </label>

              <label>
                Dose in (g)
                <input id="dose" type="number" min="10" max="24" step="0.1" value="18" />
              </label>

              <label>
                Yield out (g)
                <input id="yield" type="number" min="20" max="60" step="0.1" value="36" />
              </label>

              <label>
                Time (s)
                <input id="time" type="number" min="10" max="60" step="1" value="28" />
              </label>

              <label>
                Roast level
                <select id="roast">
                  <option value="light">Light</option>
                  <option value="medium" selected>Medium</option>
                  <option value="dark">Dark</option>
                </select>
              </label>

              <label>
                Grinder type
                <select id="grinder">
                  <option value="Baratza Encore ESP" selected>Baratza Encore ESP</option>
                  <option value="1Zpresso manual">1Zpresso manual</option>
                </select>
              </label>
            </div>

            <div class="actions" role="group" aria-label="Form actions">
              <button type="button" id="get-guidance">Get Guidance</button>
              <button type="button" id="reset" disabled>Reset</button>
              <button type="button" id="share" disabled>Share</button>
            </div>
          </form>
        </section>

        <section class="card is-hidden" id="output-card" aria-labelledby="guidance-title" aria-hidden="true">
          <h2 id="guidance-title">Guidance</h2>
          <p class="helper-text">
            Guidance is based on your brew ratio (yield / dose) and shot time vs the 1:2, 25-30s target.
          </p>
          <ul id="guidance"></ul>
          <div class="next-adjustment" id="next-adjustment"></div>
        </section>
      </section>
    </main>

    <div class="brewing-mode" id="brewing-mode" aria-hidden="true">
      <div class="brewing-overlay" id="brewing-overlay"></div>
      <div class="brewing-panel" role="dialog" aria-modal="true" aria-labelledby="brewing-title">
        <div class="brewing-header">
          <span class="brewing-progress" id="brewing-progress">Step 1 of 1</span>
          <button type="button" class="brewing-exit" id="brewing-exit">Exit</button>
        </div>
        <div class="brewing-body">
          <div class="brewing-icon" id="brewing-icon"></div>
          <h3 id="brewing-title">Step 1</h3>
          <p id="brewing-text"></p>
        </div>
        <div class="brewing-controls">
          <button type="button" class="brewing-nav" id="brewing-prev">Previous</button>
          <button type="button" class="brewing-nav primary" id="brewing-next">
            Next step
          </button>
        </div>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
